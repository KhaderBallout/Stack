<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stack Visualization</title>
    <link rel="stylesheet" href="index.css">
</head>
<body id="body">
  <div id = "container">
    <div class="header">
      <h1>Stack Visualization</h1>
      <h1>Change BackGround Color</h1>
      <input class = "color1" type="color" value="#00ff00">
      <input class = "color2" type="color" value="#ff0000">
      <script type="text/javascript" src="Stack.js"></script>
    </div>

    <div id ="stack" >
    </div>
  </div>
    <footer class="footer">
      <button onclick="push()">Push</button>
      <button onclick="pull()">Pull</button>
      <button onmouseover="peek1(this)" onmouseout="peek2(this)">Peek</button>
      <button onmouseover="empty1(this)" onmouseout="empty2(this)">IsEmpty?</button>
      <button onmouseover="size1(this)" onmouseout="size2(this)">Size</button>
      <button onclick="swap()" onmouseover="canSwap(this)" onmouseout="canSwap1(this)">Swap</button>
    </footer>

    <script>
      //counter to specify the number of the block
    var counter = 0; 
    // to change the bottom of the new element
    var bottomP = 150 ;
    function push(){ 
      if(counter < 6){
        counter++;
      // to add new element to html page
       // create div tag
       var block_to_insert = document.createElement( 'div' );
       // gite div new id and new class
       block_to_insert.id = 'inserted'+counter;
       block_to_insert.className = "inserted";
       // here i change the bottom position for the rectangle
       block_to_insert.style.bottom = bottomP  ;
       bottomP= bottomP + 50;
       console.log(block_to_insert.getElementsByClassName("inserted").bottom);
       // write text inside the div 
       var container_block = document.createTextNode(counter);
       block_to_insert.appendChild(container_block);
       // make it visible on the screen
       document.getElementById("container").appendChild(block_to_insert);
      // here is the animation of the stack that will move the block to stack
       var pos =0;
       var id = setInterval(frame, 5);
      function frame() {
       if (pos == 625) {
      clearInterval(id);
       } else {
      pos++;
      block_to_insert.style.left = pos + "px";
          }
       }
      }
    }
    function pull(){
      // get the element that will be delete by ID
      var id = "inserted"+counter;
      var deleteElement = document.getElementById(id);
      // here is the animation to delete the item of stack
      var pos =625;
      var id = setInterval(frame, 5);
      function frame() {
       if (pos == 1220) {
         // delete the element when reach 1220 px in the left
      deleteElement.remove();
       }else {
      pos++;
      deleteElement.style.left = pos + "px";
      }
    }
    bottomP -=50;
    counter--;
    }
    function peek1(obj){
      // here we get the text that exist on element by id and made it appear when the mouse over the button
      var idLast = 'inserted'+counter;
      var idLast1 = document.getElementById(idLast).textContent ;
      obj.innerHTML = idLast1;
    }
    function peek2(obj){
      obj.innerHTML = "peek";
    }
    function empty1(obj){
      // here to know if the stack is empty or not
      if(counter == 0){
        obj.innerHTML = " yes is Empty";
      }else{
        obj.innerHTML = "No isn't Empty";
      }
    }
    function empty2(obj){
      // to recall te old value of the button text
      obj.innerHTML = "IsEmpty?";
    }
    function size1(obj){
      obj.innerHTML = counter;
    }
    function size2(obj){
      obj.innerHTML = "Size";
    }
    function swap(){
      if(counter>= 2){
        // swap between 2 element 
      var x1 = 'inserted'+ counter ;
      var y1 = counter - 1 ;
      var x2 = "inserted"+y1 ;
      var y = document.getElementById(x1).textContent ;
      document.getElementById(x1).innerHTML = document.getElementById(x2).textContent;
      document.getElementById(x2).innerHTML = y ;
      }
    }
    function canSwap(obj){
      // here to check if i can swap or no
      if(counter < 2 ){
     obj.innerHTML="You can't Swap ";
      }
    }
    function canSwap1(obj){
      obj.innerHTML="Swap";
    }
       </script> 
</body>
</html>